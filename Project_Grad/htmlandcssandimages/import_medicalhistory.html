<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="http://localhost:8000/importmedicalhistory33.css">
        <title>Dentify-X</title>

    </head>

    <body>
        <div id="container">
            <div id="left-div">
                <img id="profile-pic" src="http://localhost:8000/doctor.jpg" alt="Profile Picture">
                <h4 class="admin-greeting">Welcome Dr/ <h4  class="admin-greeting" id="welcome-message"></h4></h4>
                
                <!-- <button id="logout-btn1">Profile</button>
                <button id="logout-btn2">Settings</button> -->
                <form  action="http://localhost:8000/welcome.html" method="GET" style="margin: 0; padding: 0;">
                <button id="logout-btn3">Log Out</button></form>
            </div>

        <div id="ldiv">
            <!-- <div id="right-div"> -->
                <div class="button-wrapper1">
                    <img class="button-image" src="http://localhost:8000/xray-icon.png" alt="Button Image 1" style="width: 275px;height: 275px;">
                    <button class="action-btn" type="submit" id="import">Import X-ray</button>
                </div>
                <div class="button-wrapper2">
                    <img class="button-image" src="http://localhost:8000/medical-history-icon.png" alt="Button Image 2"  style="width: 275px;height: 275px;">
                    <button class="action-btn" type="submit" id="history">View Medical History</button>
                </div>
            <!-- </div> -->
        </div>
        <p id="errmessage" style="color:red;"></p>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const urlParams = new URLSearchParams(window.location.search);
                const doctorname = urlParams.get('doctorname');
                const sessionid = urlParams.get('sessionid');
                const patientid = urlParams.get('patientid');
    
                if (doctorname) {
                    const welcomeElement = document.getElementById('welcome-message');
                    welcomeElement.textContent = decodeURIComponent(doctorname); // Decode welcome message
                }
    
                const Button = document.getElementById('import');
                Button.addEventListener('click', () => {
                    if (sessionid) {
                        window.location.href = `http://localhost:8000/uploadxray.html?sessionid=${sessionid}&doctorname=${doctorname}&patientid=${patientid}`;
                    } else {
                        console.error('Session ID not found in URL parameters');
                    }
                });

                const Button2 = document.getElementById('history');
                Button2.addEventListener('click', () => {
                    if (sessionid) {
                        window.location.href = `http://localhost:8000/searchpatient.html?doctorname=${doctorname}&patientid=${patientid}`;
                    } else {
                        console.error('Session ID not found in URL parameters');
                    }
                });
            });
        </script>
    </body>
</html>
